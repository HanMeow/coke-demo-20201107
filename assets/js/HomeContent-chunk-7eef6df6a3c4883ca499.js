(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{wNbj:function(t,e,n){"use strict";n.r(e);var i=n("NthX"),a=n.n(i),r=n("fFdx"),s=n.n(r),c=n("8VmE"),o=n.n(c),l=n("lOrp"),u=(JSON.parse(JSON.stringify(Object({VUE_ENV:"client",APP_ENV:"production",DEV_MODE:!1,publicPath:"/coke-demo-20201107/"}))),{name:"Index",components:{},mixins:[],data:function(){return{currentIndex:0,imgLoaded:0,timer:null,rotating:!1,routing:!1,actived:!1,ready:!1}},computed:o()({},Object(l.c)(["loading"]),Object(l.c)("images",{canBasic:"index/canBasic",textTitle:"index/textTitle",textNotice:"index/textNotice",textGO:"index/textGO",canFilter:"index/canFilter",canShadow:"index/canShadow",canReflection:"index/canReflection",countiesPatterns:"index/countiesPatterns"}),{buttonBeating:function(){return!this.actived&&this.ready},isLineWebview:function(){var t,e;return(null!=(t=null===(e=navigator)||void 0===e?void 0:e.userAgent)?t:"").toLowerCase().indexOf("line")>-1}}),watch:{},mounted:function(){var t=this;return s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.init();case 1:case"end":return e.stop()}}),e)})))()},updated:function(){},beforeDestroy:function(){this.clearTimer()},methods:o()({},Object(l.b)(["setLoading"]),Object(l.b)("images",{loadImamges:"load"}),Object(l.b)("game",{initAnswerList:"initAnswerList"}),Object(l.b)("analytics",["callGaButton"]),{init:function(){var t=this;return s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setLoading("資源載入中"),e.next=3,t.loadImamges("index");case 3:return t.setLoading(!1),t.reset(),e.next=7,t.wait(500);case 7:t.ready=!0;case 8:case"end":return e.stop()}}),e)})))()},reset:function(){var t=this;return s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isLineWebview?t.currentIndex=3:(t.currentIndex=0,t.timer=setInterval(s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.actived||(++t.currentIndex>=t.countiesPatterns.length&&(t.currentIndex-=t.countiesPatterns.length),t.rotating=!0);case 1:case"end":return e.stop()}}),e)}))),2e3));case 1:case"end":return e.stop()}}),e)})))()},clearTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onCanTransition:function(t){var e=this;return s()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.rotating&&(e.rotating=!1),e.actived&&(e.clearTimer(),e.prepareToHome(200));case 2:case"end":return t.stop()}}),t)})))()},onClick:function(){var t=this;return s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isLineWebview?window.location=window.location.href+(window.location.search?"&":"?")+"openExternalBrowser=1":t.actived||(t.callGaButton("btn_go"),t.actived=!0,t.prepareToHome());case 1:case"end":return e.stop()}}),e)})))()},prepareToHome:function(t){var e=this;return s()(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===t&&(t=1e3),e.routing=!0,e.initAnswerList(),i=e.$root,n.next=6,e.wait(t);case 6:"intro","index"===i.$route.name&&e.$router.push({name:"intro"});case 8:case"end":return n.stop()}}),n)})))()}})}),d=n("psIG"),f=Object(d.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"page",staticClass:"w-100 h-100 style-page d-flex flex-column align-items-center"},[n("div",{staticClass:"flex-blocker-5"}),!t.loading||t.routing?[n("img",{staticClass:"mb-2 mt-4 intro-title",class:{"falling-animation":!t.isLineWebview},attrs:{src:t.textTitle.src}}),n("div",{staticClass:"flex-blocker-1"}),t.isLineWebview?n("img",{staticClass:"notice",attrs:{src:t.textNotice.src}}):t._e(),n("div",{staticClass:"flex-blocker-1"}),n("div",{staticClass:"can-swipe my-1",class:{"jumping-animation":t.actived,"falling-animation":!t.isLineWebview,"is-line-webview":t.isLineWebview},on:{transitionend:t.onCanTransition,click:function(e){return t.callGaButton("btn_rotating_can")}}},[n("img",{staticClass:"can-basic",attrs:{src:t.canBasic.src},on:{error:function(t){t.target.style.display="none"}}}),n("div",{staticClass:"can-contents position-top-left",class:{rotating:t.rotating}},[n("transition",{attrs:{name:"can-content"}},t._l(t.countiesPatterns,(function(e,i){var a=e.src;return i===t.currentIndex?n("img",{key:"can"+i,staticClass:"can-content",attrs:{src:a}}):t._e()})),0)],1),n("img",{staticClass:"can-reflection position-top-left",attrs:{src:t.canReflection.src},on:{error:function(t){t.target.style.display="none"}}})]),n("img",{staticClass:"can-shadow",class:{"is-line-webview":t.isLineWebview},attrs:{src:t.canShadow.src},on:{error:function(t){t.target.style.display="none"}}}),n("div",{staticClass:"flex-blocker-1"}),n("button",{staticClass:"main btn-circle mt-1 mb-3",class:{"beating-animation":t.buttonBeating},attrs:{disabled:t.actived},on:{click:t.onClick}},[n("img",{attrs:{src:t.textGO.src}})]),n("div",{staticClass:"flex-blocker-2"})]:t._e()],2)}),[],!1,null,null,null).exports,m={name:"Home",components:{citypack:f},data:function(){return{}},render:function(t){return t(f)}},p=Object(d.a)(m,void 0,void 0,!1,null,null,null);e.default=p.exports}}]);