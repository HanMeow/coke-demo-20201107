(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2pvB":function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return h}));var i=s("8VmE"),n=s.n(i),o=s("lOrp"),a=s("XI5h"),c=/iPad|iPhone|iPod/.test(navigator.userAgent),l={name:"Finished",data:function(){return{updating:!1,loaded:{static:!1,result:!1},touchesLength:0,touchesTimer:null,showAgain:!1}},computed:n()({},Object(o.c)(["loading"]),Object(o.c)("images",{FB:"result/FB",ig:"result/ig",line:"result/line"}),Object(o.c)("share",["shareimg","resultimg","shareurl"]),Object(o.c)("game",["selected"]),{isIOS:function(){return c}}),watch:{},created:function(){this.loadStorage(),this.$route.params.location!==a.b[this.selected]&&this.$router.replace({name:"result",params:{location:a.b[this.selected]}}),this.setLoading("原廠報告產生中")},mounted:function(){var t=this;this.loadImamges("result").then((function(){t.checkLoading("static")}))},methods:n()({},Object(o.b)(["setLoading"]),Object(o.b)("images",{loadImamges:"load"}),Object(o.b)("share",{callAPI:"callAPI",callShare:"share"}),Object(o.b)("storage",{loadStorage:"loadStorage"}),Object(o.b)("game",{initAnswerList:"initAnswerList",toQuestion:"toRandomQuestion"}),Object(o.b)("analytics",["callGaButton"]),{resultLoaded:function(){this.checkLoading("result")},checkLoading:function(t){this.loaded[t]=!0,this.loaded.static&&this.loaded.result&&(this.setLoading(!1),0!==document.querySelector("html").scrollTop&&(document.querySelector("html").scrollTop=0))},onDownload:function(){this.callGaButton("btn_download_"+a.b[this.selected])},onTouchstart:function(t){var e=this;0===this.touchesLength&&1===t.touches.length?this.touchesTimer=setTimeout((function(){1===e.touchesLength&&e.callGaButton("btn_download_"+a.b[e.selected])}),500):this.touchesTimer&&(clearTimeout(this.touchesTimer),this.touchesTimer=null),this.touchesLength=t.touches.length},onTouchend:function(t){this.touchesTimer&&(clearTimeout(this.touchesTimer),this.touchesTimer=null),this.touchesLength=t.touches.length},onAgain:function(){this.initAnswerList(),this.toQuestion(this.$router)},onAnimationEnd:function(t){"result-printing"===t.animationName&&(this.showAgain=!0)},shareFB:function(){this.callGaButton("btn_sharefb_"+a.b[this.selected]),this.callShare({to:"fb",text:"#CocaCola你的原廠設定",href:this.shareurl,redirect:window.location.href})},shareLine:function(){this.callGaButton("btn_shareline_"+a.b[this.selected]),this.callShare({to:"line",text:"什麼？我內心原來住著…"+a.c[this.selected]+"人！你呢？\n現在就跟著「可口可樂」城市瓶，測看看你心裡住著哪裡魂！",href:this.shareurl})},shareIG:function(){this.callGaButton("btn_ig_"+a.b[this.selected]),window.location="instagram://",window.location="https://www.instagram.com/"}})},r=(s("BmqM"),s("psIG")),h=Object(r.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-100 style-page d-flex flex-column align-items-center py-4"},[s("div",{staticClass:"flex-blocker-2 mt-4"}),s("img",t._g({directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"resultimg mt-4 mb-2",attrs:{src:t.resultimg},on:{load:t.resultLoaded}},{touchstart:t.onTouchstart,touchend:t.onTouchend,webkitAnimationEnd:t.onAnimationEnd,animationEnd:t.onAnimationEnd})),s("button",{directives:[{name:"show",rawName:"v-show",value:t.showAgain,expression:"showAgain"}],staticClass:"main red text btn-circle mb-4",on:{click:t.onAgain}},[t._v("再測一次")]),s("div",{staticClass:"flex-blocker-2 my-3"}),t.loading?t._e():s("div",{staticClass:"button-group d-flex align-items-center w-100 pt-2 pb-3 px-4"},[s("p",[t._v("分享至")]),s("img",{staticClass:"ml-1",attrs:{src:t.FB.src},on:{click:t.shareFB}}),s("img",{staticClass:"ml-1",attrs:{src:t.line.src},on:{click:t.shareLine}}),t.isIOS?[s("p",{staticClass:"ml-1"},[t._v("或長按圖片下載，上傳")])]:[t._v("也可以"),s("a",{attrs:{download:((t.resultimg||"").match(/w+.(png|jpg)/)||[])[0]||"download.jpg",href:t.resultimg},on:{click:t.onDownload}},[t._v("下載圖片")]),t._v("，上傳")],s("img",{staticClass:"ml-1",attrs:{src:t.ig.src},on:{click:t.shareIG}})],2)])}),[],!1,null,null,null).exports},"7HWU":function(t,e,s){},BmqM:function(t,e,s){"use strict";s("7HWU")}}]);